import{d as D,a as q,i as _,r as n,c as E,o as c,B as a,A as l,E as C,g,I as F,C as s,J as f,F as R}from"./vlib-Cn1ZCOTB.js";import{b as K}from"./index-VyNxZgU2.js";const L=D({__name:"oss-config",emits:["refreshDataList"],setup(w,{expose:k,emit:S}){const A=S,i=q(!1),m=q(),u=_({type:0,qiniuDomain:"",qiniuPrefix:"",qiniuAccessKey:"",qiniuSecretKey:"",qiniuBucketName:"",aliyunDomain:"",aliyunPrefix:"",aliyunEndPoint:"",aliyunAccessKeyId:"",aliyunAccessKeySecret:"",aliyunBucketName:"",qcloudDomain:"",qcloudPrefix:"",qcloudAppId:0,qcloudSecretId:"",qcloudSecretKey:"",qcloudBucketName:"",qcloudRegion:""}),v=q({qiniuDomain:[{required:!0,message:"必填项不能为空",trigger:"blur"}],qiniuAccessKey:[{required:!0,message:"必填项不能为空",trigger:"blur"}],qiniuSecretKey:[{required:!0,message:"必填项不能为空",trigger:"blur"}],qiniuBucketName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],aliyunDomain:[{required:!0,message:"必填项不能为空",trigger:"blur"}],aliyunEndPoint:[{required:!0,message:"必填项不能为空",trigger:"blur"}],aliyunAccessKeyId:[{required:!0,message:"必填项不能为空",trigger:"blur"}],aliyunAccessKeySecret:[{required:!0,message:"必填项不能为空",trigger:"blur"}],aliyunBucketName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],qcloudDomain:[{required:!0,message:"必填项不能为空",trigger:"blur"}],qcloudAppId:[{required:!0,message:"必填项不能为空",trigger:"blur"}],qcloudSecretId:[{required:!0,message:"必填项不能为空",trigger:"blur"}],qcloudSecretKey:[{required:!0,message:"必填项不能为空",trigger:"blur"}],qcloudBucketName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],qcloudRegion:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}),B=()=>{i.value=!0,m.value&&m.value.resetFields(),I()},I=()=>{K.get("/sys/oss/info").then(p=>{Object.assign(u,p.data)})},V=()=>{m.value.validate(p=>{if(!p)return!1;K.post("/sys/oss",u).then(e=>{R.success({message:"成功",duration:500,onClose:()=>{i.value=!1,A("refreshDataList")}})})})};return k({init:B}),(p,e)=>{const y=n("el-radio"),N=n("el-radio-group"),t=n("el-form-item"),r=n("el-input"),d=n("el-option"),U=n("el-select"),P=n("el-form"),b=n("el-button"),x=n("el-dialog");return c(),E(x,{modelValue:i.value,"onUpdate:modelValue":e[22]||(e[22]=o=>i.value=o),title:"云存储配置","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:a(()=>[l(b,{onClick:e[20]||(e[20]=o=>i.value=!1)},{default:a(()=>e[26]||(e[26]=[s("取消")])),_:1}),l(b,{type:"primary",onClick:e[21]||(e[21]=o=>V())},{default:a(()=>e[27]||(e[27]=[s("确定")])),_:1})]),default:a(()=>[l(P,{model:u,rules:v.value,ref_key:"dataFormRef",ref:m,onKeyup:e[19]||(e[19]=C(o=>V(),["enter"])),"label-width":"140px"},{default:a(()=>[l(t,{label:"类型"},{default:a(()=>[l(N,{modelValue:u.type,"onUpdate:modelValue":e[0]||(e[0]=o=>u.type=o)},{default:a(()=>[l(y,{label:1},{default:a(()=>e[23]||(e[23]=[s("七牛")])),_:1}),l(y,{label:2},{default:a(()=>e[24]||(e[24]=[s("阿里云")])),_:1}),l(y,{label:3},{default:a(()=>e[25]||(e[25]=[s("腾讯云")])),_:1})]),_:1},8,["modelValue"])]),_:1}),u.type===1?(c(),g(f,{key:0},[l(t,{prop:"qiniuDomain",label:"域名"},{default:a(()=>[l(r,{modelValue:u.qiniuDomain,"onUpdate:modelValue":e[1]||(e[1]=o=>u.qiniuDomain=o),placeholder:"七牛绑定的域名"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qiniuPrefix",label:"路径前缀"},{default:a(()=>[l(r,{modelValue:u.qiniuPrefix,"onUpdate:modelValue":e[2]||(e[2]=o=>u.qiniuPrefix=o),placeholder:"不设置默认为空"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qiniuAccessKey",label:"AccessKey"},{default:a(()=>[l(r,{modelValue:u.qiniuAccessKey,"onUpdate:modelValue":e[3]||(e[3]=o=>u.qiniuAccessKey=o),placeholder:"七牛AccessKey"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qiniuSecretKey",label:"SecretKey"},{default:a(()=>[l(r,{modelValue:u.qiniuSecretKey,"onUpdate:modelValue":e[4]||(e[4]=o=>u.qiniuSecretKey=o),placeholder:"七牛SecretKey"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qiniuBucketName",label:"空间名"},{default:a(()=>[l(r,{modelValue:u.qiniuBucketName,"onUpdate:modelValue":e[5]||(e[5]=o=>u.qiniuBucketName=o),placeholder:"七牛存储空间名"},null,8,["modelValue"])]),_:1})],64)):u.type===2?(c(),g(f,{key:1},[l(t,{prop:"aliyunDomain",label:"域名"},{default:a(()=>[l(r,{modelValue:u.aliyunDomain,"onUpdate:modelValue":e[6]||(e[6]=o=>u.aliyunDomain=o),placeholder:"阿里云绑定的域名，如：http://cdn.renren.io"},null,8,["modelValue"])]),_:1}),l(t,{prop:"aliyunPrefix",label:"路径前缀"},{default:a(()=>[l(r,{modelValue:u.aliyunPrefix,"onUpdate:modelValue":e[7]||(e[7]=o=>u.aliyunPrefix=o),placeholder:"不设置默认为空"},null,8,["modelValue"])]),_:1}),l(t,{prop:"aliyunEndPoint",label:"EndPoint"},{default:a(()=>[l(r,{modelValue:u.aliyunEndPoint,"onUpdate:modelValue":e[8]||(e[8]=o=>u.aliyunEndPoint=o),placeholder:"阿里云EndPoint"},null,8,["modelValue"])]),_:1}),l(t,{prop:"aliyunAccessKeyId",label:"AccessKeyId"},{default:a(()=>[l(r,{modelValue:u.aliyunAccessKeyId,"onUpdate:modelValue":e[9]||(e[9]=o=>u.aliyunAccessKeyId=o),placeholder:"阿里云AccessKeyId"},null,8,["modelValue"])]),_:1}),l(t,{prop:"aliyunAccessKeySecret",label:"AccessKeySecret"},{default:a(()=>[l(r,{modelValue:u.aliyunAccessKeySecret,"onUpdate:modelValue":e[10]||(e[10]=o=>u.aliyunAccessKeySecret=o),placeholder:"阿里云AccessKeySecret"},null,8,["modelValue"])]),_:1}),l(t,{prop:"aliyunBucketName",label:"BucketName"},{default:a(()=>[l(r,{modelValue:u.aliyunBucketName,"onUpdate:modelValue":e[11]||(e[11]=o=>u.aliyunBucketName=o),placeholder:"阿里云BucketName"},null,8,["modelValue"])]),_:1})],64)):u.type===3?(c(),g(f,{key:2},[l(t,{prop:"qcloudDomain",label:"域名"},{default:a(()=>[l(r,{modelValue:u.qcloudDomain,"onUpdate:modelValue":e[12]||(e[12]=o=>u.qcloudDomain=o),placeholder:"腾讯云绑定的域名"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qcloudPrefix",label:"路径前缀"},{default:a(()=>[l(r,{modelValue:u.qcloudPrefix,"onUpdate:modelValue":e[13]||(e[13]=o=>u.qcloudPrefix=o),placeholder:"不设置默认为空"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qcloudAppId",label:"AppId"},{default:a(()=>[l(r,{modelValue:u.qcloudAppId,"onUpdate:modelValue":e[14]||(e[14]=o=>u.qcloudAppId=o),placeholder:"腾讯云AppId"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qcloudSecretId",label:"SecretId"},{default:a(()=>[l(r,{modelValue:u.qcloudSecretId,"onUpdate:modelValue":e[15]||(e[15]=o=>u.qcloudSecretId=o),placeholder:"腾讯云SecretId"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qcloudSecretKey",label:"SecretKey"},{default:a(()=>[l(r,{modelValue:u.qcloudSecretKey,"onUpdate:modelValue":e[16]||(e[16]=o=>u.qcloudSecretKey=o),placeholder:"腾讯云SecretKey"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qcloudBucketName",label:"BucketName"},{default:a(()=>[l(r,{modelValue:u.qcloudBucketName,"onUpdate:modelValue":e[17]||(e[17]=o=>u.qcloudBucketName=o),placeholder:"腾讯云BucketName"},null,8,["modelValue"])]),_:1}),l(t,{prop:"qcloudRegion",label:"所属地区"},{default:a(()=>[l(U,{modelValue:u.qcloudRegion,"onUpdate:modelValue":e[18]||(e[18]=o=>u.qcloudRegion=o),clearable:"",placeholder:"请选择",class:"w-percent-100"},{default:a(()=>[l(d,{value:"ap-beijing-1",label:"北京一区（华北）"}),l(d,{value:"ap-beijing",label:"北京"}),l(d,{value:"ap-shanghai",label:"上海（华东）"}),l(d,{value:"ap-guangzhou",label:"广州（华南）"}),l(d,{value:"ap-chengdu",label:"成都（西南）"}),l(d,{value:"ap-chongqing",label:"重庆"}),l(d,{value:"ap-singapore",label:"新加坡"}),l(d,{value:"ap-hongkong",label:"香港"}),l(d,{value:"na-toronto",label:"多伦多"}),l(d,{value:"eu-frankfurt",label:"法兰克福"})]),_:1},8,["modelValue"])]),_:1})],64)):F("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});export{L as _};
