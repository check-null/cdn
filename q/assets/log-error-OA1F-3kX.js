import{d as b,i as g,m as v,r as n,f as w,g as x,o as d,A as e,e as y,B as r,C as c,E as L,c as k,P as z}from"./vlib-Cn1ZCOTB.js";import{u as B}from"./useView-C72V-sL6.js";import{_ as D}from"./index-9CjrkANP.js";import"./quill-BosuxZz1.js";import"./lodash-CIOfnQPl.js";const S={class:"mod-sys__log-error"},H=b({__name:"log-error",setup(I){const i=g({getDataListURL:"/sys/log/error/page",getDataListIsPage:!0,exportURL:"/sys/log/error/export"}),t=g({...B(i),...v(i)}),m=s=>{z.alert(s,"异常信息",{confirmButtonText:"确定"})};return(s,o)=>{const p=n("el-button"),_=n("el-form-item"),u=n("el-form"),a=n("el-table-column"),f=n("el-table"),h=n("el-pagination"),C=w("loading");return d(),x("div",S,[e(u,{inline:!0,model:t.dataForm,onKeyup:o[1]||(o[1]=L(l=>t.getDataList(),["enter"]))},{default:r(()=>[e(_,null,{default:r(()=>[e(p,{type:"info",onClick:o[0]||(o[0]=l=>t.exportHandle())},{default:r(()=>o[2]||(o[2]=[c("导出")])),_:1})]),_:1})]),_:1},8,["model"]),y((d(),k(f,{data:t.dataList,border:"",onSortChange:t.dataListSortChangeHandle,style:{width:"100%"}},{default:r(()=>[e(a,{prop:"requestUri",label:"请求URI","header-align":"center",align:"center"}),e(a,{prop:"requestMethod",label:"请求方式","header-align":"center",align:"center"}),e(a,{prop:"requestParams",label:"请求参数","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0}),e(a,{prop:"ip",label:"操作IP","header-align":"center",align:"center"}),e(a,{prop:"userAgent",label:"用户代理","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0}),e(a,{prop:"createDate",label:"创建时间",sortable:"custom","header-align":"center",align:"center",width:"180"}),e(a,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:r(l=>[e(p,{type:"primary",link:"",onClick:E=>m(l.row.errorInfo)},{default:r(()=>o[3]||(o[3]=[c("异常信息")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSortChange"])),[[C,t.dataListLoading]]),e(h,{"current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.limit,total:t.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:t.pageSizeChangeHandle,onCurrentChange:t.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])}}}),$=D(H,[["__scopeId","data-v-604401d8"]]);export{$ as default};
