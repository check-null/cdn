import{d as F,a as m,i as T,r as s,c as U,o as $,B as a,A as o,E as q,C as b,F as w}from"./vlib-Cn1ZCOTB.js";import{b as p}from"./index-VyNxZgU2.js";const K=F({__name:"dict-type-add-or-update",emits:["refreshDataList"],setup(B,{expose:_,emit:g}){const v=g,n=m(!1),d=m(),t=T({id:"",dictName:"",dictType:"",sort:0,remark:""}),V=r=>{n.value=!0,t.id="",d.value&&d.value.resetFields(),r&&y(r)},y=r=>{p.get(`/sys/dict/type/${r}`).then(e=>{Object.assign(t,e.data)})},k=m({dictName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],dictType:[{required:!0,message:"必填项不能为空",trigger:"blur"}],sort:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}),f=()=>{d.value.validate(r=>{if(!r)return!1;(t.id?p.put:p.post)("/sys/dict/type",t).then(e=>{w.success({message:"成功",duration:500,onClose:()=>{n.value=!1,v("refreshDataList")}})})})};return _({init:V}),(r,e)=>{const u=s("el-input"),i=s("el-form-item"),C=s("el-input-number"),N=s("el-form"),c=s("el-button"),x=s("el-dialog");return $(),U(x,{modelValue:n.value,"onUpdate:modelValue":e[7]||(e[7]=l=>n.value=l),title:t.id?"修改":"新增","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:a(()=>[o(c,{onClick:e[5]||(e[5]=l=>n.value=!1)},{default:a(()=>e[8]||(e[8]=[b("取消")])),_:1}),o(c,{type:"primary",onClick:e[6]||(e[6]=l=>f())},{default:a(()=>e[9]||(e[9]=[b("确定")])),_:1})]),default:a(()=>[o(N,{model:t,rules:k.value,ref_key:"dataFormRef",ref:d,onKeyup:e[4]||(e[4]=q(l=>f(),["enter"])),"label-width":"120px"},{default:a(()=>[o(i,{prop:"dictName",label:"字典名称"},{default:a(()=>[o(u,{modelValue:t.dictName,"onUpdate:modelValue":e[0]||(e[0]=l=>t.dictName=l),placeholder:"字典名称"},null,8,["modelValue"])]),_:1}),o(i,{prop:"dictType",label:"字典类型"},{default:a(()=>[o(u,{modelValue:t.dictType,"onUpdate:modelValue":e[1]||(e[1]=l=>t.dictType=l),placeholder:"字典类型"},null,8,["modelValue"])]),_:1}),o(i,{prop:"sort",label:"排序"},{default:a(()=>[o(C,{modelValue:t.sort,"onUpdate:modelValue":e[2]||(e[2]=l=>t.sort=l),"controls-position":"right",min:0,label:"排序"},null,8,["modelValue"])]),_:1}),o(i,{prop:"remark",label:"备注"},{default:a(()=>[o(u,{modelValue:t.remark,"onUpdate:modelValue":e[3]||(e[3]=l=>t.remark=l),placeholder:"备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{K as _};
