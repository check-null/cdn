import{u as V}from"./useView-C72V-sL6.js";import{_ as w}from"./oss-config.vue_vue_type_script_setup_true_lang-BzxUBDM9.js";import{_ as S}from"./oss-upload.vue_vue_type_script_setup_true_lang-BLOiaYwq.js";import{d as D,a as c,i as _,m as H,r as o,f as x,g as z,o as s,A as n,e as $,c as u,I as C,B as a,C as d,n as b}from"./vlib-Cn1ZCOTB.js";import"./index-9CjrkANP.js";import"./lodash-CIOfnQPl.js";import"./quill-BosuxZz1.js";const B={class:"mod-oss__oss"},G=D({__name:"oss",setup(I){const g=c(),m=c(),f=_({getDataListURL:"/sys/oss/page",getDataListIsPage:!0,deleteURL:"/sys/oss",deleteIsBatch:!0,dataForm:{},configVisible:!1,uploadVisible:!1}),e=_({...V(f),...H(f)}),y=()=>{e.configVisible=!0,b(()=>{g.value.init()})},v=()=>{e.uploadVisible=!0,b(()=>{m.value.init()})};return(N,t)=>{const l=o("el-button"),p=o("el-form-item"),h=o("el-form"),i=o("el-table-column"),k=o("el-table"),L=o("el-pagination"),R=x("loading");return s(),z("div",B,[n(h,{inline:!0,model:e.dataForm},{default:a(()=>[n(p,null,{default:a(()=>[n(l,{type:"primary",onClick:t[0]||(t[0]=r=>y())},{default:a(()=>t[3]||(t[3]=[d("云存储配置")])),_:1})]),_:1}),n(p,null,{default:a(()=>[n(l,{type:"primary",onClick:t[1]||(t[1]=r=>v())},{default:a(()=>t[4]||(t[4]=[d("上传文件")])),_:1})]),_:1}),n(p,null,{default:a(()=>[n(l,{type:"danger",onClick:t[2]||(t[2]=r=>e.deleteHandle())},{default:a(()=>t[5]||(t[5]=[d("删除")])),_:1})]),_:1})]),_:1},8,["model"]),$((s(),u(k,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[n(i,{type:"selection","header-align":"center",align:"center",width:"50"}),n(i,{prop:"url",label:"URL地址","header-align":"center",align:"center"}),n(i,{prop:"createDate",label:"创建时间",sortable:"custom","header-align":"center",align:"center",width:"180"}),n(i,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(r=>[n(l,{type:"primary",link:"",onClick:U=>e.deleteHandle(r.row.id)},{default:a(()=>t[6]||(t[6]=[d("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange","onSortChange"])),[[R,e.dataListLoading]]),n(L,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),e.configVisible?(s(),u(w,{key:0,ref_key:"configRef",ref:g},null,512)):C("",!0),e.uploadVisible?(s(),u(S,{key:1,ref_key:"uploadRef",ref:m,onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):C("",!0)])}}});export{G as default};
