import{d as D,i as b,m as S,a as I,r as i,f as z,g as F,o as r,A as a,e as H,B as n,C as p,c as u,I as m,E as R}from"./vlib-Cn1ZCOTB.js";import{u as U}from"./useView-C72V-sL6.js";import{_ as $}from"./dict-data-add-or-update.vue_vue_type_script_setup_true_lang-Cc2J9TEf.js";const x={class:"mod-sys__dict"},N=D({__name:"dict-data",props:{dictTypeId:{type:String,required:!0}},setup(k){const g=k,f=b({getDataListURL:"/sys/dict/data/page",getDataListIsPage:!0,deleteURL:"/sys/dict/data",deleteIsBatch:!0,dataForm:{dictTypeId:g.dictTypeId,dictLabel:"",dictValue:""}}),e=b({...U(f),...S(f)}),c=I(),_=y=>{c.value.dataForm.dictTypeId=g.dictTypeId,c.value.init(y)};return(y,t)=>{const C=i("el-input"),d=i("el-form-item"),s=i("el-button"),v=i("el-form"),o=i("el-table-column"),L=i("el-table"),h=i("el-pagination"),V=z("loading");return r(),F("div",x,[a(v,{inline:!0,model:e.dataForm,onKeyup:t[5]||(t[5]=R(l=>e.getDataList(),["enter"]))},{default:n(()=>[a(d,null,{default:n(()=>[a(C,{modelValue:e.dataForm.dictValue,"onUpdate:modelValue":t[0]||(t[0]=l=>e.dataForm.dictValue=l),placeholder:"字典值",clearable:""},null,8,["modelValue"])]),_:1}),a(d,null,{default:n(()=>[a(C,{modelValue:e.dataForm.dictLabel,"onUpdate:modelValue":t[1]||(t[1]=l=>e.dataForm.dictLabel=l),placeholder:"字典标签",clearable:""},null,8,["modelValue"])]),_:1}),a(d,null,{default:n(()=>[a(s,{onClick:t[2]||(t[2]=l=>e.getDataList())},{default:n(()=>t[6]||(t[6]=[p("查询")])),_:1})]),_:1}),a(d,null,{default:n(()=>[e.hasPermission("sys:dict:save")?(r(),u(s,{key:0,type:"primary",onClick:t[3]||(t[3]=l=>_())},{default:n(()=>t[7]||(t[7]=[p("新增")])),_:1})):m("",!0)]),_:1}),a(d,null,{default:n(()=>[e.hasPermission("sys:dict:delete")?(r(),u(s,{key:0,type:"danger",onClick:t[4]||(t[4]=l=>e.deleteHandle())},{default:n(()=>t[8]||(t[8]=[p("删除")])),_:1})):m("",!0)]),_:1})]),_:1},8,["model"]),H((r(),u(L,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:n(()=>[a(o,{type:"selection","header-align":"center",align:"center",width:"50"}),a(o,{prop:"dictValue",label:"字典值","header-align":"center",align:"center"}),a(o,{prop:"dictLabel",label:"字典标签","header-align":"center",align:"center"}),a(o,{prop:"sort",label:"排序",sortable:"custom","header-align":"center",align:"center"}),a(o,{prop:"remark",label:"备注","header-align":"center",align:"center"}),a(o,{prop:"createDate",label:"创建时间",sortable:"custom","header-align":"center",align:"center",width:"180"}),a(o,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:n(l=>[e.hasPermission("sys:dict:update")?(r(),u(s,{key:0,type:"primary",link:"",onClick:w=>_(l.row.id)},{default:n(()=>t[9]||(t[9]=[p("修改")])),_:2},1032,["onClick"])):m("",!0),e.hasPermission("sys:dict:delete")?(r(),u(s,{key:1,type:"primary",link:"",onClick:w=>e.deleteHandle(l.row.id)},{default:n(()=>t[10]||(t[10]=[p("删除")])),_:2},1032,["onClick"])):m("",!0)]),_:1})]),_:1},8,["data","onSelectionChange","onSortChange"])),[[V,e.dataListLoading]]),a(h,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),a($,{ref_key:"addOrUpdateRef",ref:c,onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])])}}});export{N as _};
